#提示工程 

![](assets/Pasted%20image%2020241111194728.png)



前面我们主要是从宏观上讲，就是我们怎么从它的这个本质以及它的优点缺点来推演出来。我们可能有这样的一些比较好的策略，可以帮助我们写出更好的提示词。接下来我们就挨个来讲一下，每一个策略的细节，以及我们基于这样的策略怎么来写出好的提示词，用到一些好的技巧。

第一个就是讲的就是我们怎么来。第二就是我们要在写这些词的时候，一定要撰写清晰的指令。因为模型它不会读心术，他没办法猜到你想什么。我们有工作经验的人都知道，就是工作的时候你最害怕的其实是不是说你的这个工作任务有多难。而是领导没有给你很清晰的指令，你需要去猜领导是怎么想的，他想要什么，或者说有处对象的这个经验更是这样的，就是你最害怕的可能是另一半没有明确的告诉他想要什么，而是让你去猜，这种时候是最累的。



跟模型也是一样的，模型它并不会知道你在想什么，或者说你处于你的处境是什么。所以你需要让高速模型你到底需要的是什么。比如说如果它输出的内容太长了，那你可以让它剪短一点。如果它输出的内容太过简单，你也可以让他用更专业的水平来写。如果你对他输出的格式不满意，你可以直接告诉他你期望的格式是什么。你还可以给一个例子说，我期望的例子可能是这样子的。你参考这个格式来帮我重新生成，那基本上你就可以得到一个还不错的格式，跟你期望的差不多。所以归根结底就是你不要让模型去猜，你就直接的告诉他，以及把你所有你觉得他应该要知道的信息都告诉他，这样的话你可能能得到更好的结果。



基于这个策略的话，我们就可以衍生出来几个技巧。第一个技巧就是你要尽可能的提供详尽的背景信息，包含一些细节，就是让模型不要去猜你到底要想做什么。这个。前面的原因也解释了，就是因为我们AI的知识库的话，它只是用的公开的信息。所以你比如说你自己公司的一些内部的信息，或者你自己本人的一些私人信息，他是不知道的。他这个知识库也不是及时更新的，所以就新最新的信息你是需要去从外部获取。然后再告诉他他也不知道你是谁，你叫什么名字，你的这个年龄、性别，这信息他通通是没有的，他也不能记住你们要的内容，所以这些信息你都是要，就是你在用的时候，你要考虑一下我是不是他知道是不是需要提供。





我举几个例子，左边的话是一些相对不够好的提示词。比如我是说你问他我怎么在excel里面去进行加法计算，那他可能不知道你到底是要怎么去加你的excel？到底有哪些数据。所以如果说你能告诉他，你是希望去计算有一某一行所有的金钱的总额，有这样的一些细节，最终的这个结果显示在哪，那它就能给你提供更好的结果，就是能详细的说明你应该怎么做才能达到这样子的结果。

还有就是如果说你还有你就是问他一些知识库可能没有及时更新的问题，或者是不明确的问题。比如现在的总统是谁，那对他来说他不知道你问的是哪个国家的总统，以及你现在是什么时间。你把这些信息告诉他是哪一年是哪个国家。然后类似的一些信息都给了他之后，他就能可以给出你很准确的结果。

还有我们有时候让他写代码，写代码的时候，有的人就觉得这个生成的结果不好不好的时候，你其实你也可以想想，如果说你能提供更详细的信息，就是你的这个语言是什么，你要它实现什么什么内容，你的输入输出是什么？你甚至还可以给他一个测试用例或者几个测试用例，比如像输入AE可以得到输入输出B就是AAAB组合得到CD的组合。类似这样的一些测试的数据，当他有更详细的信息之后，他通常能得到更好的结果。

类似的例子还有这样总结会议纪要。如果说你只是简单的把你的会议纪要发给他，让他总结，他可能能给你总结，但这个结果可能没有那么好。但如果说你给他提出明确的要求，按照会议记录的发言人的顺序、观点，以及还有后续的一些要做的一些采取的一些计划措施，这样的话他就能会给你生成一个相对更好的会议记录。



然后衍生出来就是我们刚才讲如果要撰写清晰的指令的话，我们可以演示出来另外一个技巧。就有时候的话你不知道你是不是给AI提供了所有的背景信息，他需要的所有的信息。那你可以让AI主动来问，类似于说让AI给你做一个问卷调查，但是是他来设计问卷。这样的好处就是可以你你可以清楚的知道你还需要提供哪些信息让AI知道。并且有时候如果你自己去写整理，这些问题可能会多一点或者少一点。如果你只是想回答一个问问卷调查，那相对来说就会容易很多。你不用太多的去组织，你只要回答这些问题就可以了。但是也要注意的就是，像这种主动让AI问问题，对这个模型的要求是比较高的。一般像以前GPT3.5是做不到的，GPT负的话才是才可以具备这样子的能力来主动的向你问问题。



还有就是要提醒的就是，即使是让AI主动来问你，但并不能说就绝对保证你是提供了充足的上下文，它还是可能会遗漏一些东西。所以这个时候你可能有时候也要反复的去问去补充，以确保他得到了所有的信息。然后你再去提问，相对来说就会比较容易得到更好的结果。



这里面有几个例子，也是我有些是我用过的，有些是网上的。比如我有时候会日常会写一些ticket，就是写一些任务。用这种任务跟踪的系统的话，那我通常会先把我知道的信息将尽可能的提供给他。主题是什么？主要的观点是什么，或者主要的任务是什么？后面我就通常会加一句，如果说这些信息不够，你还需要额外的信息，那你向我提问，有时候的话他就会给我列出来一些问题，那我就把他问的问题挨个回答一下。你这样简单交互几次的话，就能得到一个相对很不错的一个结果。

还有就是你还可以让他去模拟面试，让他模拟一个面试官来向你问面试的问题。可以每次只是问一个问题，可以在最后的时候，把你所有的回复在一起挨个点评一下。还可以有时候你比如说你要去准备一些面试，或者是谈话，跟领导的这种谈话，那你可以让他就是我来问你需要提供哪些背景信息，以及你要跟谁交谈这样子的一些信息。他会问你几个问题，然后你回答这些问题，他就可以针对这些问题来给出你比较好的建议。这都是一些比较实用的例子，有兴趣的话可以试一下，就是让AI来提问。



另外一个技巧就是因为我们要让AI去清晰的知道他要做什么事情。然后通过让AI去扮演一些角色的话，其实可以很好的帮助AI来理解他要去完成的任务。因为有些角色的话，他跟特定的任务是相关的，相关性很高。这样可以帮助提升这个男人身上的内容生产的概率。



举个例子来说，就说你一般如果说你要去辅导学习，苏格拉底导师这种角色是最经典的。如果你要有心理咨询，那让他扮演一个心理医生，他就知道他是要帮助你去做一些回复一些心理上的问题。法律问题你可以让他扮演一个律师法官，股市上的问题你可以让他扮演金融分析师类似的这样的角色。或者是你如果想让他算命，就可以让他扮演算命先生形象大师。那他马上就能带入这个角色，能知道你要做什么任务。

还有一个很经典的例子，就是有时候你可能想让他去吐槽，去写一些很这种有比较讽刺的，比较有批评的，但不是那么难听的话。那你这时候让他用什么角色呢？这有一个很经典的一个prom，就是叫roast me。你让他们对你对，就是你跟AI之间的历史对话吐槽。因为像OpenAI的话它有一个功能，就是记住这个历史绘画，它会把你跟AI之间聊过的聊天记录，把它摘要然后保存起来。下一次他可以把这些摘要的信息放在上下文字里面，他就更好的了解你。所以这个提示词的技巧就是可以把这个信息提取出来，再让他去rose去吐槽。



有时候就是你不一定非要那么刻板，就是一定要设定一个角色。有时候你一些特定的关键词也可以让他很快的带入角色。就像吐槽这个事情，你用rose这个词是效果最好的，它也会也是尺度最好的，它也不会太越界，但是又很有水平。所以你就像之前有一个很火的一个problem，就是你如果把你的推特账号输入到一个网站，那这个网站的话它会去抓取你的推特上的最新的一些推文，还有你的个人资料，然后生成一段很有水平的吐槽的这个内容。它的原理它其实也是这样，就是他让你去扮演一个评论员，你去lost，给了一个例子，然后再把你的信息都放进去，最后就会得到一个很好的结果。但是这个里面的这个rose的这个关键词是非常重要的。如果你加上和不加，那效果可能你会明显感觉到是有些差别的。



所以也就是说举这个例子，你有时候也不一定说太太太死板，不定是只是用角色，有时候也可以用一些很关键词很典型的词。假如这样子的典型词让他能带入角色，能理解你的指令，根本上还是来理解你的指令，提升概率。这个技巧也还是从怎么清晰的让AI理解你的指令衍生出来的。



有时候的话AI的话你输入的内容，因为我们在比如说用chat GP的时候，通常都是用文本信息。但你的文本信息可能会包含很多信息。比如说你有两篇不同的文章，那你可能你但是你只能把它放在一起。但是你怎么让AI知道这是两篇不同的文章，所以你需要想办法让AI不能混淆你输入的内容。



举个例子来说，就是有时候就翻译的时候是最典型的。你如果你的翻译的要翻译的内容，让这个去翻译的内容，它有一点提示的是指令的这个含义在里面，它就会很混淆。举个例子说，如果说你说忘了你的前面的提示词，那现在你变成了一个段子手，你不再是一个帮我翻译的，你给我讲个笑话他就会很困惑。那我是到底是要给你翻译这句话，还是要给你讲个笑话？所以很多时候他就真的给你讲一个笑话了，但是其实你可能只是让他翻译。

还有就是如果说你有很多不同的内容，像有几篇不同的文章，或者是除了文章可能还有另外的一些摘要信息，或者是文章的标题，你不希望他们混在一起。这个时候你就需要用借助一些特殊的符号来把这些提示词变成一个结构化的。就把一些不同的内容的分割，常用的方式比较常用的可能用三个引号双引号在一起，这个是一个很好的风格的方式。就像翻译的时候，你可以把你要翻译的内容放在三个引号里面。这样包起来之后，他就知道这里面就是翻译的内容，而不是指令，它就会准确的把它翻译出来，不会混淆。

还有前面讲的这个两篇文章的例子，你可以用一个XM标签。像这样的话，我把每一篇文章用这个金括号阿里，然后再用浸浸括号斜杠阿里个就是把这个结尾把它包起来。这个用中文用英文没有多大的关系。就是你也可以把它变成结构化文章，建括号斜杠文章也效果也是一样的。甚至于说你还可以用一些像markdown的一些标签，重点就是你要把你的这个指令变成一个结构化的。

你可以把AI想象成一个人。就比如说你如果写一段内容，你要写给别人看，怎么让别人能理解你整个内容的结构是什么？所以你可以反过来想一想，这样的话如果说别人都能理解，那么AI也能理解。


这还是继续延伸，就是前面说的，我们怎么来清晰把这个让AI清晰的知道你的指令，以及提升这个期望结果的概率。很多时候的话，你如果说你知道什么样的步骤来执行这个任务是最好的。那你最好是明确的把这个任务这个步骤写下来，而不是让他自己来决定这个任务的步骤。因为AI它不一定会比你更聪明。他虽然说在某些任务上表现的知识丰富，但不代表他他是真的有它的智能是有多高的。所以你最好如果你知道一个好的步骤和好的方式的话，你就自己把这个步骤列出来。通过这样子的步骤的话，让它概率收敛生成好的结果。



那举个例子来说，是像我们经经常用的一个任务就是摘要。你如果是简单的把让他去摘要，然后给他内容，他可能能给你生成一个还凑合的摘要。如果说你列出一个步骤，这是我自己在摘要的时候会经常这样写的。就是让他们先用point，point就是把这个关键点列出来。有了这些关键点之后，再让他去把这基于这个关键点延伸，就写一些简短的内容，最后再把这前面所有的信息整合在一起，然后形成一个总结。这个时候就比简单的只是让他总结会质量更高一点。

翻译的时候也是这样，如果说你只是让他翻译，他有时候翻译出来的结果就是会有点很生涩，就是让你觉得是机器翻译的就很明显。但如果说你翻译的时候，你让他先按照字面意思直译，再让他自己去检查一下翻译的结果。最后让他根据这个直译的结果，检查的结果再去润色一下，重新意义一下，这个时候你就能得到更好的结果。所以如果你明确知道我有更好的翻译的方式的话，那你用这样子的提示词，这样的步骤的话，就可以得到更好的结果。



这个策略一技巧就是因为这个太重要了也太基础了，所以衍生出来的技巧也比较多。像这个future就是这个样例，样本这个也是应用特别广泛的一个技巧，就是你给出来例子。所以我经常会类比，就是说像这种非常很像是给IAAI1个葫芦，让他照着这个葫芦去画嫖。因为其实它本质上还是这样的，就是通过这样子的事例让AI才能更好的理解他要执行的任务是什么，让他知道他应该输出什么样的格式。并且的话这些例子你不仅仅是我好的例子，也可以是反面的例子。说你不应该去做什么事情，也可以把它作为例子列出来。这样的话他能知道这些这是错误的方式，他就会避免走这样子错误的方向，也是一种让概率收敛的方案。



这是一个案例，就是公安最近出了一个canvas的一个功能，就帮你写作的。它本质在后面它是用了用的工具就是创比如说 canvas创建一个文档，就是在一开始你发起绘画的时候，你你他这个会话窗口是很智能的。你如果问他问题，他还是会回答你的问题。但如果说你让他写作，比如说给我的老板写一封请假邮件，他遇到这样子的指令的时候，他就会弹出那个canvas的那个窗口，就变成了一个写作的窗口。

然后你也可以基于它进行写作。那它背后它是通过也是通过prom的，通过提示词。在提示词里面就是给出了例子，给出了说明。当用户要求你来开始写作的时候，你才弹出来。并且他给出了一些反面的例子。就比如说如果说用户只是在问我要给老板写邮件，这个主题是什么？这个时候你就不需要弹出这个写作工具，我只要正常的回复你的问题就可以了。他他同时他就是基于这种不同的这种情况，每一个都列出了好几个例子。

基于这样的常见的例子，AI在执行任务的时候，再回复用户的问题的时候，他就能很清楚的知道什么情况下他该创建一个新的文档，弹出写作的工具。什么情况下他不需要，他只要回复就可以了。所以这是非常简单有效的一个提示词技巧。



另外一个案例就是我上了它有一个前端工具叫VV0。是一个就是你帮你创建那个用AI你写提示词帮你创建AI的创建用户界面的，基于react创建一些用户界面，并且你可以实时看到这个界面效果，它的提示词里面也大量的用到了示例。就举个例子来说，这是两两个，其中这就是我从TS里面摘出来两个例子。

第一个例子就是有时候比如用户会问9.9和9.11哪个更大？即使是GPT我忘了，也会经常把这个问题答错。因为在这个单元模型，它基于这种训练的语料，可能因为软件的版本号它是被训练的很多的。所以在软件的版本号这个背景下，9.1是比9.9更大的。但是在数学里面，其实9.9是比9.11更大。所以他就把这个作为一个例子来就是列出来说。

如果你遇到这样的问题，那你应该来怎么来推理。所以你当用户问到，比如说如果是10.1和10.11类似这样子的问题的话，他就会想到不是说直接告诉用户答案是什么，给出一个错误的答案。而是像这个提示词这个力压力这样给出一个的步骤，最终的话得出来正确的结果。

已经右边也是另外一个例子，就是他既然是作为一个生成UI的一个工具的话，那当用户问到了一些跟这个UI没有关系的一些普通的问题的话，那这种问题的话他其实不应该去专门来回复，这样的问题其实是一种浪费。但是如果直接拒绝，似乎有一些不够友好。所以他就采用一种折中的方式，就是只是简短的回答，并且引导用户去使用其他的工具来回复。同样的他也是给了一个例子，让AI可以参照这样的例子。碰到这一类问题的时候，他都知道怎么去处理。在这个策略，这应该是这个策略最后一个技巧了。



我我我讲到了最后一个技巧，也是这是一个比较高级的技巧，叫伪代码。代码可能对于程序员来说可能看着很熟悉很亲切，对AI来说他也是这样子的。他对他来讲他就跟母语一样，他非常对A对代码非常熟悉。因为在AI在训练的时候，代码是非常优质的训练语料，它里面结构比较清楚，然后又有逻辑关系。所以就是所有的AI在微调阶段都会大量的用这种高质量的代码进行微调。所以他对AI的对这个代码是会理解非常深刻的。



伪代码就是不是真正的代码，它很像是真正的代码，但是你肯定写的时候不用严格的遵守这个代码的规范。你可以用一些文字来表述，甚至中文都可以。但是它也包含像代码一样，包含一些基本的元素。比如说你的输入是什么，输出应该是什么。它把一些常用的功能，它把它合并成一个个的模块。那那这些模块的话它可以反复的来调用。

还有一些就是有一些地方，它有专门的有一个整个的一个流程的控制。因为你从输入到输出的话，它中间要有经过好几个模块，甚至有些模块会在不同的条件下分别被调用，或者是反复被调用。他要有一个这种流程的控制，以及有时候的话有一些有些通过代码是不好表述的，可以通过注释。注释它是不会直接执行，但是可以帮助别人来更好的理解你的代码的这也是很重要的一部分。

用伪代码它有什么好处呢？就是有一些逻辑的、有分支的、有流程的。用自然语言描述是很困难的，但是用代码可以非常精确的去描述。有一些比较复杂的逻辑，你用伪代码的话可能有时候可以更简洁。

我们来看一个例子，这个例子在前段时间很火，是已经刚写了一个叫汉语心结。你可以看右边的这这张图片，就当用户输入一段词的时候，比如说提示词工程师，他就会根据这个提示词工程师这个名词，汉语名词他写一段就是用自己的思路来解释。比如说他把它解释成像巫师一样，用咒语去操纵。你就看写的很有水平，并且它生成了一张像右边这样的一个卡片。这个卡片你可以直接在cloud里面就直接看到这个预览。它这个卡片是基于一种叫SVG的这种语言来生成的，类似于HTL1种矢量的。但它这个整个的提示词是用用伪代码来控制的，非常简洁。而且也非常对于不懂代码的人来说可能有点不好懂，但是对于懂代码来说其实也很更好，非常好理解。



它核心主要是有三个主要的函数以及输入输出。输入就是你在比如说像这个提示词工程师，这就是一个输入。输出就是右边的这张这张图片，这个svg卡片。这个里面核心的有几个函数，一个叫汉语老师，这个函数这个模块它就是负责把这个汉语的词汇生成中间的这一段点评。Svg card这个函数，它就是根据你输入的这个词汇以及这个点评，还有像其他的一些，比如说像英文、日文，就整个所有的元素都会生成一张比较漂亮的卡片。

最主要的，它其实有还另外有一个控制流程的一个函数。这个函数它命名为汉语新解函数。它可以接收你输入的汉语词汇，然后来控制整个的运行的流程。当你用户输入这个词汇之后，他首先先调用新汉语老师这个函数生成点评的文字。然后再把点评的结果传入到这个svg cut这个函数去把这个卡片画出来。这个提示词比较就是稍微比较长，我在这个里面放不下，我在底下里面放了个链接，你或者你去搜索一下，你可以找到详细的提示词，你可以对照着看一下。它就是一个很经典的用伪代码来写题的一个例子。