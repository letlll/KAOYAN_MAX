以下是课程设计报告的撰写策略和内容框架，结合我们之前的对话内容、错误分析和解决过程，按照规定格式为您提供一个详细的撰写指导和结构建议。

---

# **课程设计报告撰写策略**

1. **明确目标**：
    
    - 按照报告要求，分章节详细描述课设的目的、系统功能、设计过程、运行结果等内容。
    - 突出系统的结构设计与代码实现之间的联系，展示独立完成的能力。
2. **回顾对话内容**：
    
    - 结合我们之前的错误分析，明确课程设计中遇到的问题及解决方法。
    - 在运行结果部分展示代码调试的过程和最终功能实现的截图。
3. **分析系统设计**：
    
    - 描述代码的结构设计，包括数据结构、类设计、核心算法等。
    - 使用类图、状态图等工具展示设计思路，图文并茂。
4. **格式要求**：
    
    - 使用 Word 或 WPS 文档，按照报告的规范（如标题、编号、截图等）书写。
    - 文件命名按照“学号-姓名-班级”格式保存。

---

## **课程设计报告内容结构**

以下为完整报告框架及其对应内容说明：

---

### **一、课设目的**

**内容**：简述课程设计的目的，说明项目设计的背景和意义。 **示例**：

- 本次课程设计的目的是通过实现一个基于 C++ 的进程调度与内存管理系统，深入理解操作系统的核心概念，如进程调度、页面置换算法等。
- 通过实践，培养独立设计和实现系统的能力，提高 C++ 编程技能，增强对实际问题的分析与解决能力。

---

### **二、课设题目**

**内容**：描述课设的题目和核心要求。 **示例**：

- 本次课程设计的题目为：**基于 C++ 的进程调度与内存管理系统**。
- 系统应实现以下功能：
    - 支持 FCFS 和 RR 调度算法。
    - 支持 FIFO 和 LRU 页面置换算法。
    - 模拟 CPU 的运行过程。
    - 从文件加载进程、程序和运行步骤。

---

### **三、系统功能结构**

**内容**：通过语言描述或图形方式展示系统的功能模块。

- 使用流程图或功能结构图清晰展示系统的逻辑。
- 将主要功能划分为模块（如文件加载模块、调度算法模块等）。

**示例功能结构图**：

```
系统功能结构：
1. 文件加载模块
   - 从 process.txt 加载进程信息
   - 从 program.txt 加载程序及其函数信息
   - 从 run.txt 加载程序运行步骤

2. 调度算法模块
   - 先来先服务（FCFS）
   - 时间片轮转（RR）

3. 页面置换模块
   - FIFO 页面置换
   - LRU 页面置换

4. CPU 模拟模块
   - 按时间顺序动态显示 CPU 的占用情况

5. 数据展示模块
   - 展示进程信息
   - 展示程序信息
   - 展示程序运行步骤
```

---

### **四、主要数据结构**

**内容**：

1. 描述代码中使用的核心数据结构。
2. 结合类设计说明每个类的作用及其方法的实现逻辑。

**示例**：

1. **PCB 类**：
    
    - 表示进程控制块，存储每个进程的基本信息。
    - **字段**：进程名（pName）、创建时间（createTime）、优先级（grade）、运行时间（runTime）等。
    - **方法**：构造函数初始化进程信息。
    
    ```cpp
    class PCB {
    public:
        string pName; // 进程名称
        int createTime; // 创建时间
        int runTime; // 运行时间
        int grade; // 优先级
        PCB(string name, int create, int runtime, int priority)
            : pName(name), createTime(create), runTime(runtime), grade(priority) {}
    };
    ```
    
2. **PageManager 类**：
    
    - 管理页面置换算法，支持 FIFO 和 LRU。
    - **字段**：页面队列（fifoPages）、页面映射（lruPages）、页面命中次数（pageHits）等。
    - **方法**：
        - `fifoReplace(int page)`：实现 FIFO 页面置换算法。
        - `lruReplace(int page, int currentTime)`：实现 LRU 页面置换算法。

---

### **五、系统设计**

**内容**：

1. 通过类图、活动图、状态图等说明设计过程。
2. 展示模块间的交互关系。

#### **类图示例**：

```plaintext
+---------------------+
|       PCB           |
+---------------------+
| - pName             |
| - createTime        |
| - runTime           |
| - grade             |
| + PCB(...)          |
+---------------------+

+---------------------+
|     PageManager     |
+---------------------+
| - pageSize          |
| - fifoPages         |
| - lruPages          |
| + fifoReplace(...)  |
| + lruReplace(...)   |
+---------------------+

+---------------------+
|   Main Program      |
+---------------------+
| + loadProcesses()   |
| + loadPrograms()    |
| + fcfsScheduling()  |
| + rrScheduling()    |
+---------------------+
```

#### **活动图示例**（FCFS 调度）：

```plaintext
[用户输入进程数据] --> [加载进程信息]
       |
       v
[按创建时间排序进程]
       |
       v
[依次计算每个进程的开始时间、完成时间]
       |
       v
[保存调度结果]
```

---

### **六、运行结果展示与分析**

**内容**：

1. 运行结果的截图，包括调试日志和最终运行结果。
2. 分析系统功能是否达到了设计目标。

**示例**：

1. **文件加载结果**：
    
    ```
    Found program: ProgramA
    Updated runtime for ProgramA: 5
    Updated runtime for ProgramA: 10
    ...
    ```
    
2. **调度算法结果**：
    
    ```
    Process: AProgram, Start: 0, Complete: 5, Turnover: 5, Weighted Turnover: 1.00
    Process: BProgram, Start: 5, Complete: 9, Turnover: 8, Weighted Turnover: 2.00
    ```
    
3. **分页置换结果**：
    
    ```
    Page Faults: 15
    Page Hits: 10
    Hit Rate: 40.00%
    ```
    

---

### **七、课程设计中遇到的问题及解决方法**

**内容**：

1. 列出遇到的主要问题。
2. 描述解决方法及调试过程。

**示例**：

1. **问题**：`runTimes` 未正确记录程序运行时间。
    
    - **原因**：`loadRunSteps` 中未正确提取程序名称，导致程序名为空。
    - **解决方法**：使用 `find_first_not_of` 跳过空格和制表符，确保正确解析程序名。
2. **问题**：分页置换算法中，FIFO 和 LRU 页面记录不一致。
    
    - **原因**：未正确更新 LRU 映射中的最近使用时间。
    - **解决方法**：在 `lruReplace` 方法中加入时间更新逻辑。

---

### **八、设计感想**

**内容**：

1. 总结本次课程设计的收获。
2. 提出未来优化的方向。

**示例**：

- 通过本次课程设计，我深入理解了操作系统中的调度算法和内存管理策略。通过 C++ 的实现，强化了对面向对象编程的理解。
- 未来可优化：
    - 增加更复杂的调度算法（如 SJF、优先级调度）。
    - 引入日志系统，便于调试和分析程序运行情况。

---

### **总结**

通过以上结构撰写报告，可确保报告内容全面且符合要求。如果需要进一步完善某一部分内容或需要 Word 文档格式示例，请告诉我！ 😊