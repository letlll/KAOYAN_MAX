### 3 . 若 P、V 操作的信号量 S 初值为 2，当前值为－1，则表示有（ B   ）等待进程。

A．0 个        B．1 个            C ．2 个             D．3 个

---

### **3. 信号量与进程同步（B）**

- **知识点**：信号量机制和同步原理。
- 信号量是操作系统用于进程同步的工具，初值表示资源的数量，当前值<0 时表示有进程在等待。

>[!question] 
>如何去判断等待进程的数量

---

### **如何判断信号量的等待进程数量？**

信号量 $S$ 的当前值反映了资源的使用状态以及等待队列中进程的数量。以下是具体的判断依据：

---

### **1. 信号量的含义**
- **初值 $S_{\text{init}}$**：表示系统中该资源的初始可用数量。
  - 例如，初值为 2 表示资源最多允许同时有 2 个进程访问。
- **当前值 $S_{\text{current}}$**：
  - 当前值 $S_{\text{current}} \geq 0$：表示资源仍有剩余，值为剩余资源数量。
  - 当前值 $S_{\text{current}} < 0$：表示资源已全部分配，且有进程在等待。
    - 等待进程的数量为 $\text{绝对值}(|S_{\text{current}}|)$。

---

### **2. 判断等待进程的数量**
#### **关键公式**：
- 等待进程数量 = $|S_{\text{current}}|$ （当 $S_{\text{current}} < 0$ 时）。

#### **分析题目中的数据**：
- 初值 $S_{\text{init}} = 2$，表示初始有 2 个资源。
- 当前值 $S_{\text{current}} = -1$，表示：
  - **资源使用情况**：
    - 初始资源数：2。
    - 当前状态：已经有 $2 - (-1) = 3$ 个进程请求了资源，其中 2 个正在使用资源。
  - **等待队列**：有 $|S_{\text{current}}| = 1$ 个进程在等待资源。

#### **结果**：
- 等待进程数量为 $1$。

---

### **总结**
在信号量 $S_{\text{current}} = -1$ 时，表示有 **1 个进程在等待**资源。因此，答案是：**B. 1 个**。
