# 一. 选择题

1. 在进程管理中，当（  C   ）时进程从阻塞状态变为就绪状态。

A. 进程被进程调度程序选中   B．等待某一事件

C．等待的事件发生           D．时间片用完

---

### **1. 进程状态转换（C）**

- **知识点**：进程状态及其转换。
- 重点包括：
    - **三种基本状态**：就绪、运行、阻塞。
    - **状态转换条件**：如就绪到运行（被调度）、运行到阻塞（等待事件）、阻塞到就绪（事件发生）。

---

2. 进程的并发执行是指若干个进程（   B   ）。

A．同时占用 CPU 执行             B．在执行的时间上是重叠的

C．在执行的时间上是不可重叠的    D．共享系统资源

---

### **2. 进程的并发性（B）**

- **知识点**：并发和并行的区别。
- 并发：多个进程在时间上交替执行，彼此在时间上重叠，但不一定同时运行。
- 并行：多个进程真正同时运行，通常需要多核处理器支持。

---

3. 若 P、V 操作的信号量 S 初值为 2，当前值为－1，则表示有（ B   ）等待进程。

A．0 个        B．1 个            C ．2 个             D．3 个

---

### **3. 信号量与进程同步（B）**

- **知识点**：信号量机制和同步原理。
- 信号量是操作系统用于进程同步的工具，初值表示资源的数量，当前值<0 时表示有进程在等待。

---

4. 设有 5 个进程共享一个数据段，如果最多允许有 3 个进程同时进入数据段，则所采用的信号量的初值应是（   B  ）。

A．5           B．3               C．1                D．0

---

### **4. 信号量初值（B）**

- **知识点**：信号量用于限制访问资源的进程数。
- 信号量的初值设置为允许的最大并发数，超过此数的进程将被阻塞。

---

5. 从总体上说，采用多道程序设计技术可 （ B ）单位时间的算题量，但对每一个算题，从

算题开始到全部完成所需的时间比单道执行所需的时间可能要（ B ） 。

A．增加，减少       B．增加，延长         C. 减少，延长       D．减少，减少

---

### **5. 多道程序设计（B，B）**

- **知识点**：多道程序设计的基本原理。
- 多道程序通过让多个程序共享 CPU 和 I/O 设备，提高系统资源利用率，但可能增加每个任务的等待时间。

>[!question] 
>多道程序设计技术和单道执行的区别和各自的作用，为什么：多个程序共享 CPU 和 I/O 设备，提高系统资源利用率可能增加每个任务的等待时间。请你给出具体的实例。

---

6. 在下列进程状态的转换中，（  C  ） 是不可能发生的。

A．就绪→运行       B．运行→就绪          C．就绪→阻塞      D．阻塞→就绪

7. 下面的叙述中正确的是（ D  ）。

A．操作系统的一个重要概念是进程，因此不同进程所执行的代码也一定不同。

B．为了避免发生进程死锁，各进程只能逐个申请资源。

C．操作系统用 PCB 管理进程，用户进程可以从此 PCB 中读出与本身运行状况有关的信息

D．进程同步是指某些进程之间在逻辑上的相互制约关系

8. 在内存分配的“最佳适应法”中，为了提高检索的效率，空闲块是按（   C  ）。

A.始地址从小到大排序    B.始地址从大到小排序

C.块的大小从小到大排序    D.块的大小从大到小排序

9. 分区管理和分页管理的主要区别是（  D  ）。

A.分区管理中的块比分页管理中的页要小

B.分页管理有地址映射而分区管理没有

C.分页管理有存储保护而分区管理没有

D.分区管理要求一道程序存放在连续的空间内而分页管理没有这种要求。

10. 在虚拟存储系统中，若进程在内存中占 3 块（开始时为空），采用先进先出页面淘汰算法，当执行访问页号序列为 1，2，3，4，1，2，5，1，2，3，4，5，6 时，将产生（  D ）次缺页中断？

A.7     B.8     C.9      D.10

---

11. 采用段式存储管理的系统中，若地址用 24 位表示，其中 8 位表示段号，则允许每段的最大长度是（ A ）。

A.216    B.224    C.232     D.28

12. 在动态分区分配方案中，某一作业完成后，系统收回其主存空间，并与相邻空闲区合并，为此需修改空闲区表，造成空闲区数减 1 的情况是（ A ）。

A.有上邻空闲区，也有下邻空闲区               B.有上邻空闲区，但无下邻空闲区

C.有下邻空闲区，但无上邻空闲区               D.无上邻空闲区，也无下邻空闲区

13. 某基于动态分区存储管理的计算机，其主存容量为 55 MB（初始为空），采用最佳适配

（Best fit）算法，分配和释放的顺序为：分配 15 MB，分配 30 MB，释放 15 MB，分配 8 MB，分配 6 MB，此时主存中最大空闲分区的大小是（  B ） 。

 A.7 MB            B.9 MB           C.10 MB                D.15 MB

14. 一个页式存储管理系统中，逻辑地址长度为 32 位，其中页号占 12 位。页内地址 20 位，则内存页框数是（ A ）

A．212             B. 220           C. 232                 D. 28

15. 文件系统在创建一个文件时，为它建立一个（ A   ）。 

A.文件目录        B.目录文件      C.逻辑结构            D.逻辑空间

16. 使用绝对路径名访问文件是从（ C  ）开始按目录结构访问某个文件。 

A.当前目录        B.用户主目录    C.根目录              D.父目录

17. 设备管理程序对设备的管理是借助一些数据结构来进行的，下面的（  B   ）不属于设备管理数据结构。  

A.DCT        B.JCB      C.COCT          D.CHCT

18. 引入缓冲的主要目的是（  A   ）。  

A.改善 CPU 和 I/O 设备速度不匹配的情况    B.节省内存

C.提高 CPU 的利用率                           D.提高 I/O 设备的利用率

19. 某文件占 10 个磁盘块，现要把该文件磁盘块逐个读入主存缓冲区，并送用户区进行分析。假设一个缓冲区与一个磁盘块大小相同，把一个磁盘块读入缓冲区的时间为 100μs，将缓冲区的数据传送到用户区的时间是 50μs， CPU 对一块数据进行分析的时间为 50μs。

在单缓冲区和双缓冲区结构下，读入并分析完该文件的时间分别是 （  B  ）

A．1500μs、1000 μs         B．1550μs、1100μs 

C．1550μs、1550 μs         D．2000μs、2000μs 

20. 文件的存取方法依赖于（  C   ）。 

A.文件的物理结构              B.存放文件的存储设备的特性 

C.A 和 B                       D.文件的逻辑结构

---

21. 操作系统是一组（  C   ）。

A.文件管理程序    B.中断处理程序   C.资源管理程序     D.设备管理程序

22. （  B   ）不是操作系统关心的主要问题。

A、管理计算机裸机                 B、高级程序设计语言的编译器 C、管理计算机系统资源             D、设计、提供用户程序与计算机硬件系统的界面 

23. 引入多道程序的目的在于（   B  ）。

A、提高实时响应速度                           B、充分利用 CPU，减少 CPU 等待时间 C、有利于代码共享，减少主、辅存信息交换量     D、充分利用存储器 

24. 批处理系统的主要缺点是（  A   ）。

A. 失去了交互性     B. CPU 的利用率不高  C.不具备并行性     D.以上都不是

25. CPU 状态分为系统态和用户态，从用户态转换到系统态的唯一途径是（  C   ）。

A. 运行进程修改程序状态字               B. 中断屏蔽 C. 系统调用                             D. 进程调度程序 

26. 作业调度的关键在于（  B   ）。

A.选择恰当的进程管理程序        B.选择恰当的作业调度算法

C.用户作业准备充分              D.有一个较好的操作环境

27. 为了对紧急进程或重要进程进行调度，调度算法应采用（  B   ）。

A.先来先服务法    B. 优先级法      C.短作业优先法          D. 时间片轮转法

28. 进程和程序的本质区别是（  D   ）。

A.存储在内存和外存                   B.顺序和非顺序执行机器指令

C.分时使用和独占使用计算机资源       D.动态和静态特征

29. 在一段时间内，只允许一个进程访问的资源称为（   A  ）。

A. 临界资源       B. 临界区        C. 共享资源        D. 共享区

30. 如果 3 个进程共享一个互斥段，每次最多允许 2 个进程进入改互斥段，则信号量的变化范围是（  A   ）。

A.2、1、0、-1   B.3、2、1、0   C.2、1、0、-1、-2   D.1、0、-1、-2

---

31. 信号量 S 的初值为 8，在 S 上执行了 12 次 P 操作，4 次 V 操作后，S 的值为（  A  ）。

A．0         B．8          C．6         D．4

32. 系统出现死锁的原因是（   C  ）。

A、计算机系统发生了重大故障 B、有多个封锁的进程同时存在

C、若干进程因竞争资源而无休止地等待着，不释放已占有的资源

D、资源数大大少于进程数，或进程同时申请的资源数大大超过资源总数

33. 把作业地址空间中使用的逻辑地址变成内存中物理地址称为（  B   ）。

A.加载    B.重定位   C.物理化   D.逻辑化

34. 死锁预防是保证系统不进入死锁状态的静态策略，其解决方法是破坏产生死锁的四个必要条件之一，下列方法中哪一个破坏了“部分分配”条件（  B   ）。

A.银行家算法     B. 一次性分配策略    C.剥夺资源法  D. 资源层次分配法

35. 在请求页式存储管理中，若所需页面不在内存中，则会引起（  D   ）。

A.输入输出中断      B. 时钟中断   C.越界中断     D. 缺页中断

36. 在分段管理中，（  A   ）。

A.以段为单位分配，每段是一个连续存储区     B.段与段之间必定不连续

C.段与段之间必定连续                       D.每段是等长的

37. 页式管理每取一次数据，要访问（  B   ）次内存。

A.1             B.2             C.3              D.4

38. 缓冲技术用于（  A   ）。

A、提高主机和设备交换信息的速度      
B、提供主、辅存接口 
C、提高设备利用率                    
D、扩充相对地址空间

39. 使用相对路径名访问文件是从（   A  ）开始按目录结构访问某个文件。

A.当前目录        B.用户主目录      C.根目录          D.父目录

40. 文件系统采用二级文件目录可以（   D  ）。

A.缩短访问存储器的时间              B.实现文件共享

C.节省内存空间                      D.解决不同用户间的文件命名冲突

---

# 二 .判断题（请用 T 表示真，F 表示假）

1. 进程之间的状态变化，一定在 PCB 中反映出来。(  T  )

2. 当进程完成 I/O 后，进程的状态由等待变为运行。(  F  )

3. 在支持虚拟地址空间的操作系统环境下，能运行比该主存容量还大的程序。（ T  ）

4. 缺页中断率只和主存容量有关，主存容量大缺页中断次数少，反之，缺页中断次数多。

（ F  ）

5. 采用页式存储管理的存储器就是虚拟存储器。（ F   ）

6 请求分页存储管理中，页面置换算法很多，但只有最佳（优化）置换算法能完全避免进程的抖动，因而目前应用最广。其他算法虽然也能避免进程的抖动，但其效率一般很低。

（  F  ）

7. 在 I/O 控制的多种方式中，传输速率高，对主机影响少的方式最好。（ T  ）

8. 文件系统中分配存储空间的基本单位是记录。（ F  ）

9. 位示图方法可用于磁盘的调度管理。（ F  ）

10. 虚拟设备是指把一个物理设备变换成多个对应的逻辑设备，它通过系统设备表来实现的。

（  F  ）

11. 段页式管理实现了段式、页式两种存储方式的优势互补。（ T   ）

12. 进程可以删除自己的 PCB 表。（ F   ）

13. 在 I/O 控制的多种方式中，DMA 方式是唯一支持在内存和外设之间进行直接的数据传输的方式。（  F  ）

14. SPOOLING 技术可以把一个物理设备变换成多个对应的逻辑设备。（  T  ）

15. 用户为每个自己的进程创建 PCB，并控制进程的执行过程。（  F  ）

16. 对于一个具有三级索引表的文件，存取一个记录需要访问三次磁盘。（ F   ）

17. 通道一旦被启动就能独立于 CPU 运行，这样可使 CPU 和通道并行操作。（  T  ）

18. 并发性是指若干事件在同一时刻发生。（  F  ）

19. 线程是最小的拥有资源的单位。（  F  ）

20. 动态分区管理可以对作业分配不连续的内存单元。（  F  ）

# 三. 填空题

1. 进程的基本特征有（动态性 ）、（ 并发性）、独立性、异步性及结构特征。

2. 用信箱实现通信时，应有（ 发送 ）和 （接收 ）两条基本原语。

3. 有 m 个进程共享同一临界资源，若使用信号量机制实现对临界资源的互斥访问，则信号量 mutex 值的变化范围是（ 1-m≤mutex≤ 1 ） 。 

4. 地址重定位分为（ 静态地址重定位  ）、（ 动态地址重定位  ）。

5. 通道的类型为（字节多路通道  ）、（  数组选择通道   ）、（  数组多路通道    ）。

6.      按功能划分，软件可分为系统软件和（应用）软件两种。

7.      操作系统的基本功能是 ( 处理机 ) 管理、存储管理、设备管理和文件管理。

8.      分时系统的主要特征为 ( 同时性 )、交互性、独立性和及时性。

9.      进程在执行过程中有 3 种基本状态，它们是运行态、就绪态和 ( 阻塞 ) 态。

10.   在一个单 CPU 系统中，若有 n 个用户进程。假设当前系统为用户态，则处于就绪状态的用户进程最多有 ( n-1 ) 个，最少有 ( 0 ) 个。

11.   如果文件系统中有多个重名文件，则不应采用 ( 单级 ) 目录结构。

12.   在请求分页式存储管理中采用先进先出（FIFO）页面淘汰算法时，增加分配给作业的块数时，缺页中断的次数有可能会 ( 增加 )，此现象称为“Belady 现象”

13.   静态重定位在程序 ( 装入 ) 时进行，动态重定位在程序 ( 运行 ) 时进行。

# 四. 简答题

1. 将图 1 中给出的不完整的进程基本状态及其转换条件补充完整。

 ![](assets/Pasted%20image%2020241211203740.png)

答: 1. 就绪  2. 运行  3. 阻塞  4. 进程调度  5. 时间片到

2. 某单处理机系统采用抢占式 SJF（短作业优先），进程的到达时间和运行时间如表 1 所示，

请将表 1 补充完整。（忽略进程切换时间）

                         表1 抢占式短作业优先调度

|      |      |        |        |      |
| ---- | ---- | ------ | ------ | ---- |
| 进程名称 | 到达时间 | 要求运行时间 | 开始运行时间 | 完成时间 |
| P 1   | 0:00 | 4 小时    |        |      |
| P 2   | 1:00 | 1 小时    |        |      |
| P 3   | 3:00 | 2 小时    |        |      |
| P 4   | 6:00 | 5 小时    |        |      |
| P 5   | 8:00 | 2 小时    |        |      |

答：

|   |   |   |   |   |
|---|---|---|---|---|
|进程名称|到达时间|要求运行时间|开始运行时间|完成时间|
|P 1|0:00|4 小时|0:00|7:00|
|P 2|1:00|1 小时|1:00|2:00|
|P 3|3:00|2 小时|3:00|5:00|
|P 4|6:00|5 小时|7:00|14:00|
|P 5|8:00|2 小时|8:00|10:00|

3. 假设在一个文件系统中，物理块的大小为 512 B, FCB 占 48 B。把 FCB 分成两个部分：符号目录项占 8 B（其中文件名占 6 B，索引节点编号占 2 B)；基本目录项占 40 B。现有一个目录文件包含 256 个目录项，请问:

（1）       在进行目录项分解后，需要多少个物理块来存放目录文件？

（2）       在进行目录项分解后，查找一个文件的平均访盘次数为多少？答：（1）（8*256）/512=4（块）

（2）（1+4）/2≈3（次），然后启动并访问磁盘 1 次，读取文件。故查找一个文件的平均访盘次数是 3+1=4（次）

4. 某系统采用分页存储管理方式，逻辑空间为 32 页，每页 2 KB，物理空间为 1 MB。请写出逻辑地址的格式；若不考虑访问权限等，则进程的页表项有多少? 每项至少含多少位?

答：该系统拥有逻辑空间 32 页，故在逻辑地址中页号用 5 位二进制数来描述，每页为 2 KB，因此页内地址必须用 11 位二进制数描述，由此可得如下逻辑地址格式:

15                                  11   10                                   0

|   |   |
|---|---|
|页号|页内位移|

每个进程最多有 32 个页面，因此进程的页表项最多为 32 项; 若不考虑访问权限等，则页表中只须给出每页所对应的物理块号，1 MB 的物理空间可以分成 1 MB/2 KB=29 个物理块，故每个页表项至少有 9 位。

5. 现有五个进程 A，B，C，D，E，共享 R 1，R 2，R 3 三类资源，其中 R 1 类资源数量为 17；R 2 类资源数量为 5；R 3 类资源数量为 20。T 0 时刻系统的状态如表 2 所示。系统采用银行家算法实施死锁的避免策略。

## 表 2

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|进程||已分配资源|||最大需求资源||
|R 1|R 2|R 3|R 1|R 2|R 3|
|A|2|1|2|5|5|9|
|B|4|0|2|5|3|6|
|C|4|0|5|4|0|11|
|D|2|0|4|4|2|5|
|E|3|1|4|4|2|4|

T 0 时刻系统是否安全？若安全请写出安全序列。

答：T 0 时刻是安全的，存在安全序列｛E，D，C，B，A｝（计算过程略）

6. 设备管理中的数据传送控制方式有哪几种？分别简述如何实现的。

答：答: 程序直接控制：由用户进程来直接控制内存或 CPU 和外设间的信息传送。

中断方式：进程通过 CPU 发出指令启动外设，该进程阻塞。当输入完成时，I/O 控制器通过中断请求线向 CPU 发出中断信号，CPU 进行中断处理。

DMA 方式：在外设和内存之间开辟直接的数据交换通路。

通道控制方式：CPU 发出启动指令，指出通道相应的操作和 I/O 设备，该指令就可启动通道并使该通道从内存中调出相应的通道指令执行。

7. 处理机调度分为哪三级？各自的主要任务是什么？答：长程（作业）调度：从一批后备作业中选择一个或几个作业，给它们分配资源，建立进程，挂入就绪队列。执行完后，回收资源。

短程（进程）调度：从就绪进程队列中根据某个策略选取一个进程，使之占用 CPU。

中程调度：按照给定的原则和策略，将外存交换区中的进程调入内存，把内存中的非执行进程交换到外存交换区中。

8. 试说明资源的静态分配策略能防止死锁的原因。

答：资源静态分配策略要求每个进程在开始执行前申请所需的全部资源，仅在系统为之分配了所需的全部资源后，该进程才开始执行。这样，进程在执行过程中不再申请资源，从而破

坏了死锁的四个必要条件之一“占有并等待条件”，从而防止死锁的发生。

9. 若在一分页存储管理系统中, 某作业的页表如表 3 所示. 已知页面大小为 1024 字节, 试将逻辑地址 1011,2148,4000,5012 转化为相应的物理地址。

## 表 3

|   |   |
|---|---|
|页号|物理块号|
|0|2|
|1|3|
|2|1|
|3|6|

答：对于逻辑地址 1011，P=INT (1011/1024)=0，D=1011 mod 1024=1011，查页表第 0 页在第 2 块, 所以物理地址为 3059.

对于逻辑地址 2148，P=INT (2148/1024)=2，D=2148 mod 1024=100，查页表第 2 页在第 1 块, 所以物理地址为 1124. 

对于逻辑地址 4000，P=INT (4000/1024)=3，D=4000 mod 1024=928，查页表第 3 页在第 6 块, 所以物理地址为 7072.  对于逻辑地址 5012，P=INT (5012/1024)=4，D=5012 mod 1024=916，因页号超过页表长度, 该逻辑地址非法. 

10. 若干个等待访问磁盘者依次要访问的柱面为 20，44，40，4，80，12，76，假设每移动一个柱面需要 3 毫秒时间，移动臂当前位于 40 号柱面，请按下列算法分别计算为完成上述各次访问总共花费的寻找时间。   (1) 先来先服务算法   (2) 最短寻找时间优先算法

答：(1) 40 → 20 → 44 → 40 → 4 → 80 → 12 → 76     共移动 292 柱面

3 毫秒×292=876 毫秒

(2) 40 → 44 → 20 → 12 → 4 → 76 → 80     共移动 120 柱面

3 毫秒×120=360 毫秒

# 五. 解答题

1. 某车站售票厅，任何时刻最多可容纳 20 名购票者进入，当售票厅中少于 20 名购票者时，厅外的购票者可立即进入，否则需在外面等待。若把一个购票者看作一个进程，请回答下列问题：

(1) 用 PV 操作管理这些并发进程时，应怎样定义信号量，写出信号量的初值以及信号量各种取值的含义。

(2) 根据所定义的信号量，使用 P、V 操作保证进程能够正确地并发执行。

(3) 若欲购票者最多为 n 个人，写出信号量可能的变化范围 (最大值和最小值)。

答：（1）

Semaphore full=20;                                    

①0<full<20 时，售票厅中人数为 20-full（人）          

②full=0 时，售票厅中人数为 20 人，即售票厅满         

③full<0 时，厅外等候进入售票厅的人数为|full|人        

（2）

Process Customeri

{ 

  P (full);                

 进入购票；离开售票厅；

  V (full);                

}

（3）

(20-n) ≤ full ≤ 20      

2. 设正在处理器上执行的一个进程的页表如表 4 所示。页表的页号和物理块号是十进制数，起始页号 (块号) 均为 0；所有的地址均是存储器字节地址，页的大小为 1024 字节。（注：状态位表示该页是否在内存，1—在，0—不在；）下列逻辑地址对应什么物理地址：(1) 5499； (2) 2221；表 4

|   |   |   |   |   |
|---|---|---|---|---|
|页号|状态位|访问位|修改位|物理块号|
|0|1|1|0|4|
|1|1|1|1|7|
|2|0|0|0|---|
|3|1|0|0|2|
|4|0|0|0|---|
|5|1|0|1|0|

答：（1）5499/1024=5 余数为 379，故页号为 5（查页表得对应物理块号为 0，页内地址为

379，物理地址=0*1024+379=379 

（2）2221/1024=2 余数为 173，故页号为 2，页内地址为 173，查页表得 2 号页对应物理块号为空，即 2 号页不在内存中，所以物理地址不存在。

3. 有一矩阵 int A[100][100] ；以行为优先进行存储。计算机采用虚拟存储系统，物理内存共有 3 块，其中一块存放程序，其余两块存放数据。假设程序已在内存中占一块, 其余两块空闲。

|   |   |
|---|---|
|程序 A:<br><br>for（ i=0; i<100;i++） for(j=0；j<100;j++)<br><br>A[i][j]=0;|程序 B:<br><br>for（ j=0; j<100;j++） for(i=0；i<100;i++)<br><br>A[i][j]=0;|

若每块可存放 200 个整数，程序 A 和程序 B 的执行过程各会发生多少次缺页？若每页只能存放 100 个整数呢？以上说明了什么问题？答: (1) 每个主存块的大小可以存放 200 个数组元素，有两个内存块可以用来存放数组信息，数组中的元素按行编址。显然，对于程序 A，数组的存储顺序与访问顺序一致，每访问两行数组遇到一次缺页中断，共产生 50 次缺页中断；对于程序 B，数组的存储顺序（按行的顺序）与访问顺序（按列的顺序）不一致，每访问两个数组元素遇到一次缺页中断，共会产生

5000 次缺页中断。

(2) 若每页只能存放 100 个整数，对于程序 A，数组的存储顺序与访问顺序一致，每访问一行数组遇到一次缺页中断，会产生 100 次缺页中断。对于程序 B，数组的存储顺序（按行的顺序）与访问顺序（按列的顺序）不一致，每访问一个数组元素遇到一次缺页中断，会产生

10000 次缺页中断。

以上结果说明：1. 缺页的次数与内存中数据存放的方式及程序的执行顺序有很大关系。

2. 当缺页中断的次数不多时，减小页面的大小对缺页次数的影响不大；但当缺页中断的次数很多时，减小页面的大小对缺页次数有很严重的影响。

4. 假设目前有 6 个读写磁盘的请求如表 5 所示：表 5

|   |   |   |   |
|---|---|---|---|
|请求次序|柱面号|磁头号|扇区号|
|1|180|7|1|
|2|30|7|2|
|3|12|9|10|
|4|40|2|1|
|5|35|4|8|
|6|90|9|11|

假定当前移动臂位置在 20 号柱面，移动方向是向大于 20 号柱面的方向移动。试问：

（1）       采用电梯调度算法（scan），上述请求的访问次序为何？ 

（2）       如果所有请求的柱面号相同，上述请求的最短寻道时间优先（sstf）次序为何？  答：（1）2,5,4,6,1,3    

（2）3,2,5,4,6,1     

5. 有两个用户进程 A 和 B, 在运行过程中都要使用系统中的一台打印机输出计算结果.

(1)    试说明 A, B 两进程之间存在什么样的制约关系 

(2)    为保证这两个进程能正确地打印出各自的结果, 请用信号量和 P, V 操作写出各自的有关申请, 使用打印机的代码. 要求给出信号量的含义和初值. 

答：(1) A, B 两进程之间存在互斥制约关系. 因为打印机属于临界资源, 必须一个进程使用完之后另一个进程才能使用.

(2) mutex: 用于互斥的信号量, 因为只有一台打印机, 所以初值为

|   |   |
|---|---|
|进程 A|进程 B|
|......<br><br>P (mutex);<br><br>使用打印机;<br><br>V (mutex);<br><br>……|......<br><br>P (mutex);<br><br>使用打印机;<br><br>V (mutex);<br><br>……|

6. 现有一作业，在段式存储管理的系统中已为主存分配了如表所示的段表。

|   |   |   |
|---|---|---|
|段号|段长|主存起始地址|
|0|700|1780|
|1|180|1020|
|2|220|1580|
|3|910|2820|
|4|1500|1650|

计算该作业访问[0,600],[1,400],[2,286],[3,755][4,960]时的绝对地址。（方括号中第一个元素为段号，第二个元素为段内地址）。

答：(1) [0,600]：因为 600＜700，所以绝对地址＝1780+600＝2380。

(2)    [1,400]：因为 400＞180，所以该逻辑地址越界，系统发出“越界中断”。

(3)    [2,286]：因为 286＞220，所以该逻辑地址越界，系统发出“越界中断”。

(4)    [3,755]：因为 755＜910，所以绝对地址＝2820+755＝3575。

(5)    [4,960]：因为 960＜1500，所以绝对地址＝1650+960＝2610。

7. 在一个采用页式虚拟存储管理的系统中, 有一用户作业, 它依次要访问的地址序列是: 115,228,120,88,446,102,321,432,260,167, 若该作业的第 0 页已经装入主存, 现分配给该作业的主存共 300 B, 页的大小为 100 B, 请回答下列问题: 

(1) 页面请求序列。

(2) 按 FIFO 调度算法将产生 (  ) 次缺页中断,依次淘汰的页号为 (  ) ,缺页中断率为 (  ) . 

(3) 按 LRU 调度算法将产生 (  ) 次缺页中断,依次淘汰的页号为 (  ) ,缺页中断率为 (  ) .  答：

(1) 根据地址序列求出页面访问序列：

115/100=1，228/100=2，120/100=1，88/100=0，446/100=4，102/100=1，321/100=3，432/100=4， 260/100=2，167/100=1。故页面访问序列为：1，2，1，0，4，1，3，4，2，1. 

(2) 按 FIFO 调度算法将产生 5 次缺页中断（1 分） ;依次淘汰的页号为: 0,1,2;  缺页中断率为: 5/10=50%

(2) 按 LRU 调度算法将产生 6 次缺页中断（1 分）; 依次淘汰的页号为: 2,0,1,3;  缺页中断率为: 6/10=60%

8. 某系统有 R 1, R 2, R 3 共 3 种资源，在 T 0 时刻 P 1, P 2, P 3, P 4 这 4 个进程对资源的占用和需求如下，系统的可用资源向量为（2，1，2）

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|进程||最大需求|   ||占有量||
|R 1|R 2|R 3|R 1|R 2|R 3|
|P 1|3|2|2|1|0|0|
|P 2|6|1|3|4|1|1|
|P 3|3|1|4|2|1|1|
|P 4|4|2|2|0|0|2|

（1）将系统中各种资源的总和及此刻各进程对资源的需求数目用向量或矩阵表示出来。（2）如果此时 P 1 和 P 2 均发出资源请求向量（1，0，1），为了保持系统安全性，应如何分配资源给这两个进程。答：

（1）       各类资源总和: [R 1, R 2, R 3]=[ 9,3,6] 各进程对资源的需求数目: 

  2  2  2

  2  0  2

1  0  3 

4  2  0  

（2）       当将资源分配给 P 1 后，需求矩阵为：

1     2  1

2     0  2

1  0  3

4  2  0 

系统可利用资源为：1  1  1  故此时不存在安全序列，系统处于不安全状态，所以 P 1 进程的资源请求不能满足。

当将资源分配给 P 2 后，需求矩阵为：

2  2  2

1  0  1

1  0  3

4  2  0

系统可利用资源为：1  1  1 故此时存在安全序列 P 2, P 3, P 4, P 1，所以 P 2 进程的资源请求可以满足。

9. 以下进程之间存在相互制约关系吗？若存在，是什么制约关系？为什么？

（1）       几个同学去图书馆借同一本书。

（2）       篮球比赛中两队同学抢篮板球。

（3）       果汁流水线生产中捣碎、消毒、罐装、装箱等各道工序。

（4）       商品的入库和出库。

（5）       工人做工和农民种粮。

（6）       多人（大于两人）来理发店找两个理发师理发。

答：（1）互斥，一本书只能由一人借

（2）       互斥，篮球比赛中篮球只能由一人持球

（3）       同步，流水线上各工序之间是顺序关系

（4）       同步，入库与出库之间是顺序关系

（5）       没关系

（6）       既同步又互斥，顾客来理发店与理发师理发是同步，多个顾客与两个理发师之间是互斥