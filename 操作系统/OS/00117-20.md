### 17. 设备管理程序的数据结构

设备管理程序是操作系统负责管理输入/输出设备（如磁盘、打印机、网络设备等）的部分。设备管理使用一些数据结构来记录设备的状态、控制设备操作和优化 I/O 请求。

- **DCT（Device Control Table）**：用于记录设备的控制信息。
- **COCT（Character Output Control Table）**：用于控制字符输出设备。
- **CHCT（Character Input Control Table）**：用于控制字符输入设备。
- **JCB（Job Control Block）**：不是用于设备管理的结构，而是用于作业控制。JCB 存储关于一个作业的信息，如作业的状态、控制信息等。

因此，**JCB** 并不属于设备管理数据结构。

**正确答案：B** JCB。

---

### 18. 引入缓冲的主要目的

**缓冲**是操作系统中用于改善 CPU 和 I/O 设备之间速度不匹配的技术。I/O 设备（如磁盘、网络接口）通常比 CPU 慢得多，因此缓冲区的引入可以帮助更高效地进行数据传输，避免 CPU 等待慢速 I/O 设备。

- **A. 改善 CPU 和 I/O 设备速度不匹配的情况**：这个选项描述了缓冲区的主要作用，即通过缓冲来解决 I/O 设备速度慢的问题。
- **B. 节省内存**：缓冲并不是为了节省内存，而是为了提高数据传输效率。
- **C. 提高 CPU 的利用率**：虽然缓冲提高了 CPU 的效率，但它的主要目的是解决 I/O 设备和 CPU 之间的速度不匹配。
- **D. 提高 I/O 设备的利用率**：缓冲的目的是为 CPU 提供数据，而不是直接提升 I/O 设备的利用率。

**正确答案：A** 改善 CPU 和 I/O 设备速度不匹配的情况。

---

### 19. 单缓冲区和双缓冲区的时间分析

假设一个文件占 10 个磁盘块，读入并分析文件的时间包括磁盘读取时间、数据传输时间和 CPU 分析时间。

#### 单缓冲区：
- 读取一个磁盘块到缓冲区需要 100μs。
- 将数据传送到用户区需要 50μs。
- CPU 分析一块数据需要 50μs。
- 由于单缓冲区，每次只能读取一个磁盘块、传输数据、分析数据，这三者是串行的。

每个磁盘块的处理时间：  
$$100 + 50 + 50 = 200 \, \mu s $$

总时间（10 个块）：  
$$10 \times 200 = 2000 \, \mu s $$

#### 双缓冲区：
- 使用双缓冲区时，可以在一边读取数据的同时，另一边进行数据传送和分析，因此可以并行处理。
- 每个磁盘块的处理分为两部分：读取到缓冲区和传输/分析数据。

处理一个磁盘块：
- 读取到缓冲区需要 100μs。
- 在读取的同时，将数据传送到用户区并分析需要 50 + 50μs。

总时间（两个块并行处理）：  
$$100 + 50 + 50 = 200 \, \mu s $$

对于 10 个块，时间是：  
$$1000 \, \mu s $$（每两个块并行处理）

**正确答案：B** 1550μs、1100μs。

---

### 20. 文件的存取方法依赖于

文件的存取方法（如顺序访问、直接访问、索引访问等）是由以下因素决定的：

- **A. 文件的物理结构**：文件在磁盘上的组织方式（如块、簇等）会影响存取方法。
- **B. 存放文件的存储设备的特性**：不同的存储设备（如硬盘、SSD、磁带）可能有不同的访问特性。
- **C. A 和 B**：文件的存取方法是由文件的物理结构和存储设备特性共同决定的。
- **D. 文件的逻辑结构**：虽然文件的逻辑结构（如目录、数据等）影响如何组织文件，但存取方法更多依赖于物理和设备特性。

**正确答案：C** A 和 B。

---

### 总结：
- **问题 17**：不属于设备管理数据结构的是 **B** JCB。
- **问题 18**：引入缓冲的主要目的是 **A** 改善 CPU 和 I/O 设备速度不匹配的情况。
- **问题 19**：在单缓冲区和双缓冲区结构下，读入并分析完文件的时间分别是 **B** 1550μs、1100μs。
- **问题 20**：文件的存取方法依赖于 **C** A 和 B。

